import type { ZipSpendingResult } from "@/lib/types/spending";

/**
 * Mock data for development.
 * Based on realistic Texas Comptroller figures for Travis County (Austin area).
 * Will be replaced by real data pipeline in Phase 2.
 */
const mockData: Record<string, ZipSpendingResult> = {
  "78701": {
    zipCode: "78701",
    countyName: "Travis",
    countyFips: "48453",
    fiscalYear: "2022",
    population: 1290188,
    medianIncome: 85000,
    stateMedianIncome: 67321,
    incomeMultiplier: 1.26,
    estimatedPerCapitaTax: 4847,
    totalCountySpending: 6254000000,
    categories: [
      {
        category: "education",
        label: "Education",
        totalAmount: 2347500000,
        perCapita: 1820,
        percentage: 37.5,
        color: "#003f87",
        subcategories: [
          { name: "K-12 Public Schools", amount: 1729200000, perCapita: 1340, percentage: 27.6 },
          { name: "Higher Education (UT System)", amount: 232200000, perCapita: 180, percentage: 3.7 },
          { name: "Higher Education (Other)", amount: 154800000, perCapita: 120, percentage: 2.5 },
          { name: "Other Education Programs", amount: 231300000, perCapita: 180, percentage: 3.7 },
        ],
      },
      {
        category: "health",
        label: "Health & Human Services",
        totalAmount: 1563500000,
        perCapita: 1210,
        percentage: 25.0,
        color: "#2d6a4f",
        subcategories: [
          { name: "Medicaid & CHIP", amount: 903300000, perCapita: 700, percentage: 11.2 },
          { name: "Mental Health Services", amount: 258000000, perCapita: 200, percentage: 3.2 },
          { name: "Public Health Programs", amount: 193500000, perCapita: 150, percentage: 2.4 },
          { name: "Aging & Disability Services", amount: 208700000, perCapita: 160, percentage: 2.6 },
        ],
      },
      {
        category: "transportation",
        label: "Transportation",
        totalAmount: 877200000,
        perCapita: 680,
        percentage: 14.0,
        color: "#bf5700",
        subcategories: [
          { name: "Highway Construction & Maintenance", amount: 580200000, perCapita: 450, percentage: 7.2 },
          { name: "Public Transit", amount: 193500000, perCapita: 150, percentage: 2.4 },
          { name: "Vehicle Registration & DMV", amount: 103500000, perCapita: 80, percentage: 1.3 },
        ],
      },
      {
        category: "public_safety",
        label: "Public Safety",
        totalAmount: 619800000,
        perCapita: 480,
        percentage: 9.9,
        color: "#d00000",
        subcategories: [
          { name: "State Prisons (TDCJ)", amount: 335400000, perCapita: 260, percentage: 4.2 },
          { name: "State Police (DPS)", amount: 154800000, perCapita: 120, percentage: 1.9 },
          { name: "Juvenile Justice", amount: 64500000, perCapita: 50, percentage: 0.8 },
          { name: "Other Public Safety", amount: 65100000, perCapita: 50, percentage: 0.8 },
        ],
      },
      {
        category: "other",
        label: "Other",
        totalAmount: 846000000,
        perCapita: 657,
        percentage: 13.5,
        color: "#8d99ae",
        subcategories: [
          { name: "General Government", amount: 348300000, perCapita: 270, percentage: 4.3 },
          { name: "Natural Resources", amount: 193500000, perCapita: 150, percentage: 2.4 },
          { name: "Regulatory Agencies", amount: 129000000, perCapita: 100, percentage: 1.6 },
          { name: "Debt Service & Other", amount: 175200000, perCapita: 137, percentage: 2.2 },
        ],
      },
    ],
    weirdItems: [
      {
        id: "teacher_days",
        emoji: "\u{1F469}\u200D\u{1F3EB}",
        description: "You funded 11.5 days of a teacher's salary",
        calculation: "Based on avg TX teacher salary of $57,641/year",
        value: 11.5,
        unit: "days",
        dollarAmount: 1820,
        category: "education",
      },
      {
        id: "highway_feet",
        emoji: "\u{1F6E3}\uFE0F",
        description: "Your taxes paved 4.5 feet of highway",
        calculation: "Based on avg highway cost of ~$150/linear foot",
        value: 4.5,
        unit: "feet",
        dollarAmount: 680,
        category: "transportation",
      },
      {
        id: "prison_meals",
        emoji: "\u{1F37D}\uFE0F",
        description: "You paid for 137 prison meals",
        calculation: "Based on avg cost of $3.50 per meal in TX prisons",
        value: 137,
        unit: "meals",
        dollarAmount: 480,
        category: "public_safety",
      },
      {
        id: "ut_seconds",
        emoji: "\u{1F920}",
        description: "You funded 3.9 seconds of UT Austin operations",
        calculation: "Based on UT Austin annual budget of $3.1B",
        value: 3.9,
        unit: "seconds",
        dollarAmount: 380,
        category: "education",
      },
      {
        id: "vaccines",
        emoji: "\u{1FA78}",
        description: "You provided 17 vaccine doses",
        calculation: "Based on avg vaccine cost of ~$71 per dose",
        value: 17,
        unit: "doses",
        dollarAmount: 1210,
        category: "health",
      },
      {
        id: "pothole",
        emoji: "\u{1F573}\uFE0F",
        description: "You fixed 13.6 potholes",
        calculation: "Based on avg pothole repair cost of $50",
        value: 13.6,
        unit: "potholes",
        dollarAmount: 680,
        category: "transportation",
      },
    ],
    metadata: {
      dataSource: "Texas Comptroller of Public Accounts",
      lastUpdated: "2024-01-15",
      disclaimer:
        "This is an estimate based on county-level averages. Actual tax burden varies by individual income, spending habits, and property ownership.",
    },
  },
  "77001": {
    zipCode: "77001",
    countyName: "Harris",
    countyFips: "48201",
    fiscalYear: "2022",
    population: 4731145,
    medianIncome: 62000,
    stateMedianIncome: 67321,
    incomeMultiplier: 0.92,
    estimatedPerCapitaTax: 3830,
    totalCountySpending: 18130000000,
    categories: [
      {
        category: "education",
        label: "Education",
        totalAmount: 6798750000,
        perCapita: 1436,
        percentage: 37.5,
        color: "#003f87",
        subcategories: [
          { name: "K-12 Public Schools", amount: 5007300000, perCapita: 1058, percentage: 27.6 },
          { name: "Higher Education", amount: 1000000000, perCapita: 211, percentage: 5.5 },
          { name: "Other Education", amount: 791450000, perCapita: 167, percentage: 4.4 },
        ],
      },
      {
        category: "health",
        label: "Health & Human Services",
        totalAmount: 4532500000,
        perCapita: 958,
        percentage: 25.0,
        color: "#2d6a4f",
        subcategories: [
          { name: "Medicaid & CHIP", amount: 2719500000, perCapita: 575, percentage: 15.0 },
          { name: "Mental Health Services", amount: 906500000, perCapita: 192, percentage: 5.0 },
          { name: "Public Health Programs", amount: 906500000, perCapita: 191, percentage: 5.0 },
        ],
      },
      {
        category: "transportation",
        label: "Transportation",
        totalAmount: 2538200000,
        perCapita: 536,
        percentage: 14.0,
        color: "#bf5700",
        subcategories: [
          { name: "Highway Construction", amount: 1812800000, perCapita: 383, percentage: 10.0 },
          { name: "Public Transit", amount: 543300000, perCapita: 115, percentage: 3.0 },
          { name: "DMV", amount: 182100000, perCapita: 38, percentage: 1.0 },
        ],
      },
      {
        category: "public_safety",
        label: "Public Safety",
        totalAmount: 1794870000,
        perCapita: 379,
        percentage: 9.9,
        color: "#d00000",
        subcategories: [
          { name: "State Prisons (TDCJ)", amount: 997500000, perCapita: 211, percentage: 5.5 },
          { name: "State Police (DPS)", amount: 543300000, perCapita: 115, percentage: 3.0 },
          { name: "Juvenile Justice", amount: 254070000, perCapita: 53, percentage: 1.4 },
        ],
      },
      {
        category: "other",
        label: "Other",
        totalAmount: 2465680000,
        perCapita: 521,
        percentage: 13.6,
        color: "#8d99ae",
        subcategories: [
          { name: "General Government", amount: 1087800000, perCapita: 230, percentage: 6.0 },
          { name: "Natural Resources", amount: 724300000, perCapita: 153, percentage: 4.0 },
          { name: "Other", amount: 653580000, perCapita: 138, percentage: 3.6 },
        ],
      },
    ],
    weirdItems: [
      {
        id: "teacher_days",
        emoji: "\u{1F469}\u200D\u{1F3EB}",
        description: "You funded 9.1 days of a teacher's salary",
        calculation: "Based on avg TX teacher salary of $57,641/year",
        value: 9.1,
        unit: "days",
        dollarAmount: 1436,
        category: "education",
      },
      {
        id: "highway_feet",
        emoji: "\u{1F6E3}\uFE0F",
        description: "Your taxes paved 3.6 feet of highway",
        calculation: "Based on avg highway cost of ~$150/linear foot",
        value: 3.6,
        unit: "feet",
        dollarAmount: 536,
        category: "transportation",
      },
      {
        id: "prison_meals",
        emoji: "\u{1F37D}\uFE0F",
        description: "You paid for 108 prison meals",
        calculation: "Based on avg cost of $3.50 per meal in TX prisons",
        value: 108,
        unit: "meals",
        dollarAmount: 379,
        category: "public_safety",
      },
      {
        id: "ut_seconds",
        emoji: "\u{1F920}",
        description: "You funded 2.2 seconds of UT Austin operations",
        calculation: "Based on UT Austin annual budget of $3.1B",
        value: 2.2,
        unit: "seconds",
        dollarAmount: 211,
        category: "education",
      },
      {
        id: "vaccines",
        emoji: "\u{1FA78}",
        description: "You provided 13 vaccine doses",
        calculation: "Based on avg vaccine cost of ~$71 per dose",
        value: 13,
        unit: "doses",
        dollarAmount: 958,
        category: "health",
      },
      {
        id: "pothole",
        emoji: "\u{1F573}\uFE0F",
        description: "You fixed 10.7 potholes",
        calculation: "Based on avg pothole repair cost of $50",
        value: 10.7,
        unit: "potholes",
        dollarAmount: 536,
        category: "transportation",
      },
    ],
    metadata: {
      dataSource: "Texas Comptroller of Public Accounts",
      lastUpdated: "2024-01-15",
      disclaimer:
        "This is an estimate based on county-level averages. Actual tax burden varies by individual income, spending habits, and property ownership.",
    },
  },
};

// Default fallback for unknown ZIPs during mock phase
const defaultMock = mockData["78701"];

export function getMockSpending(zipCode: string): ZipSpendingResult {
  return mockData[zipCode] ?? { ...defaultMock, zipCode };
}
